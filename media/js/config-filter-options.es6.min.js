/*
 * @package Joomla
 * @copyright Copyright (C) 2005 Open Source Matters. All rights reserved.
 * @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.php
 *
 * @extension Phoca Filter Options System Plugin
 * @copyright Copyright (C) Jan Pavelka www.phoca.cz
 * @license http://www.gnu.org/copyleft/gpl.html GNU/GPL
 */
document.addEventListener("DOMContentLoaded",()=>{function phFilterOptionsQuote(str){return str.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function phRemoveElementsByClass(parentElem,className){for(var elements=parentElem.getElementsByClassName(className);elements.length>0;)elements[0].parentNode.removeChild(elements[0])}function filterOptions(str){let hideElements=".tab-pane .alert, .tab-pane .field-spacer, fieldset legend, #sendtestmail, .tab-description, .tab-pane h3, .ph-admin-additional-box",hideElementBoxes=".tab-header, .ph-options-head, .ph-options-head-expert",tab="#configTabs div button",tabContent="#configTabs > joomla-tab-element",excludeTabs="#page-filters, #page-permissions, #permissions, #permissions_label",itemParameter=".control-group .control-label label",itemParameterBox=".control-group",tabRow=".tab-pane .row div",tabFieldset=".tab-pane .row div fieldset",activeTab=!1;if(document.querySelectorAll(tabContent).forEach(elem=>{elem.hasAttribute("active")&&"specific"!=elem.getAttribute("active")&&(activeTab=elem)}),str.length>0)return document.querySelectorAll(tab).forEach(elem=>{elem.classList.add("disabled"),elem.classList.add("phFilterOptionsDisabled")}),document.querySelectorAll(tabContent).forEach(elem=>{elem.hasAttribute("active")||elem.setAttribute("active","specific"),elem.classList.add("phFilterOptionsNoStyle"),phRemoveElementsByClass(elem,"phFilterOptionsHeader");var newItem=document.createElement("div");newItem.classList.add("phFilterOptionsHeader");var textnode=document.createTextNode(elem.getAttribute("name"));newItem.appendChild(textnode),elem.insertBefore(newItem,elem.childNodes[0])}),document.querySelectorAll(hideElements).forEach(elem=>{elem.classList.add("phFilterOptionsHidden"),elem.parentElement.classList.add("phFilterOptionsFieldset")}),document.querySelectorAll(hideElementBoxes).forEach(elem=>{elem.parentElement.parentElement.classList.add("phFilterOptionsHidden")}),document.querySelectorAll(excludeTabs).forEach(elem=>{elem.classList.add("disabled")}),document.querySelectorAll(tabRow).forEach(elem=>{elem.classList.add("filter-options-col")}),document.querySelectorAll(tabFieldset).forEach(elem=>{elem.classList.add("filter-options-fieldset")}),void document.querySelectorAll(itemParameter).forEach(elem=>{let ePP=elem.parentElement.parentElement,item=elem.innerHTML;if(ePP.classList.add("phFilterOptionsHidden"),item&&"string"==typeof item){let re=new RegExp(phFilterOptionsQuote(str),"i"),res;item.match(re)&&ePP.classList.remove("phFilterOptionsHidden")}});document.querySelectorAll(tab).forEach(elem=>{elem.classList.remove("disabled"),elem.classList.remove("phFilterOptionsDisabled")}),document.querySelectorAll(tabContent).forEach(elem=>{elem.removeAttribute("active"),elem.classList.remove("phFilterOptionsNoStyle"),phRemoveElementsByClass(elem,"phFilterOptionsHeader")}),activeTab&&activeTab.setAttribute("active",!0),document.querySelectorAll(hideElements).forEach(elem=>{elem.classList.remove("phFilterOptionsHidden"),elem.parentElement.classList.remove("phFilterOptionsFieldset")}),document.querySelectorAll(hideElementBoxes).forEach(elem=>{elem.parentElement.parentElement.classList.remove("phFilterOptionsHidden")}),document.querySelectorAll(".control-group").forEach(elem=>{elem.classList.remove("phFilterOptionsHidden")}),document.querySelectorAll(excludeTabs).forEach(elem=>{elem.classList.remove("disabled")}),document.querySelectorAll(tabRow).forEach(elem=>{elem.classList.remove("filter-options-col")}),document.querySelectorAll(tabFieldset).forEach(elem=>{elem.classList.remove("filter-options-fieldset")})}document.getElementById("filterOptionsClear").addEventListener("click",event=>{document.getElementById("filterOptionsInput").value="",filterOptions("")}),document.getElementById("filterOptionsInput").addEventListener("input",event=>{let eV;filterOptions(event.currentTarget.value)})});